{"ast":null,"code":"var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = Contact;\nvar _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/toConsumableArray\"));\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\nvar _react = _interopRequireWildcard(require(\"react\"));\nvar _StyleSheet = _interopRequireDefault(require(\"react-native-web/dist/exports/StyleSheet\"));\nvar _Text = _interopRequireDefault(require(\"react-native-web/dist/exports/Text\"));\nvar _View = _interopRequireDefault(require(\"react-native-web/dist/exports/View\"));\nvar _Image = _interopRequireDefault(require(\"react-native-web/dist/exports/Image\"));\nvar _TouchableOpacity = _interopRequireDefault(require(\"react-native-web/dist/exports/TouchableOpacity\"));\nvar _FlatList = _interopRequireDefault(require(\"react-native-web/dist/exports/FlatList\"));\nvar _firebase = require(\"../config/firebase\");\nvar _firestore = require(\"firebase/firestore\");\nvar _Dimensions = _interopRequireDefault(require(\"react-native-web/dist/exports/Dimensions\"));\nvar _Verification = _interopRequireDefault(require(\"./Verification.js\"));\nvar _jsxRuntime = require(\"react/jsx-runtime\");\nvar _jsxFileName = \"/home/joshua/sana-app/sana/screens/Contacts.js\";\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }\nvar vh = _Dimensions.default.get('window').height / 100;\nvar vw = _Dimensions.default.get('window').width / 100;\nvar ContactClass = (0, _createClass2.default)(function ContactClass(cid, username) {\n  (0, _classCallCheck2.default)(this, ContactClass);\n  this.cid = cid;\n  this.username = username;\n});\nvar addPerson = function addPerson() {\n  var _auth$currentUser;\n  var newConvo = (0, _firestore.addDoc)((0, _firestore.collection)(_firebase.database, \"chat\"), {\n    uids: [_firebase.auth == null ? void 0 : (_auth$currentUser = _firebase.auth.currentUser) == null ? void 0 : _auth$currentUser.uid, \"HltL8GyfH7enbscAfsqtYyUDQ1A2\"],\n    groupName: \"test\"\n  });\n  console.log(\"e  \" + newConvo.id);\n};\nfunction Contact(_ref) {\n  var _this = this;\n  var navigation = _ref.navigation;\n  var _useState = (0, _react.useState)([]),\n    _useState2 = (0, _slicedToArray2.default)(_useState, 2),\n    contacts = _useState2[0],\n    setContacts = _useState2[1];\n  var _useState3 = (0, _react.useState)([]),\n    _useState4 = (0, _slicedToArray2.default)(_useState3, 2),\n    cids = _useState4[0],\n    setCids = _useState4[1];\n  (0, _react.useEffect)(function () {\n    var _auth$currentUser2;\n    var unsubscribe = (0, _firestore.onSnapshot)((0, _firestore.doc)(_firebase.database, \"users\", _firebase.auth == null ? void 0 : (_auth$currentUser2 = _firebase.auth.currentUser) == null ? void 0 : _auth$currentUser2.uid), {\n      includeMetadataChanges: true\n    }, function (doc) {\n      setCids(doc.data.cids);\n    });\n    return function () {\n      return unsubscribe();\n    };\n  }, []);\n  (0, _react.useEffect)(function () {\n    var _auth$currentUser3;\n    var chatRef = (0, _firestore.collection)(_firebase.database, \"chat\");\n    var q = (0, _firestore.query)(chatRef, (0, _firestore.where)(\"uids\", \"array-contains\", _firebase.auth == null ? void 0 : (_auth$currentUser3 = _firebase.auth.currentUser) == null ? void 0 : _auth$currentUser3.uid));\n    var unsubscribe = (0, _firestore.onSnapshot)(q, {\n      includeMetadataChanges: true\n    }, function (querySnapshot) {\n      setContacts([]);\n      querySnapshot.forEach(function (doc) {\n        var tempContact = new ContactClass(doc.id, doc.data().groupName);\n        setContacts(function (prevContacts) {\n          return [].concat((0, _toConsumableArray2.default)(prevContacts), [tempContact]);\n        });\n      });\n    });\n    return function () {\n      return unsubscribe();\n    };\n  }, []);\n  return (0, _jsxRuntime.jsxs)(_View.default, {\n    style: [styles.container, {\n      flexDirection: \"column\"\n    }],\n    children: [(0, _jsxRuntime.jsx)(_View.default, {\n      style: styles.header,\n      children: (0, _jsxRuntime.jsxs)(_View.default, {\n        style: {\n          flexDirection: \"row\",\n          display: \"flex\",\n          alignItems: \"center\",\n          width: \"100vw\",\n          justifyContent: \"space-evenly\"\n        },\n        children: [(0, _jsxRuntime.jsx)(_Image.default, {\n          style: styles.headerLogo,\n          source: require(\"../images/sana-logo-2.png\")\n        }), (0, _jsxRuntime.jsx)(_TouchableOpacity.default, {\n          onPress: function onPress() {\n            return navigation.navigate('Settings');\n          },\n          children: (0, _jsxRuntime.jsx)(_Image.default, {\n            style: styles.headerLogo,\n            source: require(\"../images/settings.png\")\n          })\n        })]\n      })\n    }), (0, _jsxRuntime.jsx)(_View.default, {\n      style: styles.bottom,\n      children: (0, _jsxRuntime.jsxs)(_View.default, {\n        style: styles.contactList,\n        children: [(0, _jsxRuntime.jsx)(_TouchableOpacity.default, {\n          style: styles.item,\n          onPress: function onPress() {\n            return addPerson();\n          },\n          children: (0, _jsxRuntime.jsx)(_View.default, {\n            style: styles.itemTextBox,\n            children: (0, _jsxRuntime.jsx)(_Text.default, {\n              style: styles.itemText,\n              children: \"Add New Friend\"\n            })\n          })\n        }), (0, _jsxRuntime.jsx)(_TouchableOpacity.default, {\n          style: [styles.item, {\n            backgroundColor: \"rgba(0,0,0,0.2)\"\n          }],\n          onPress: function onPress() {\n            return navigation.navigate('Chat', {\n              username: \"Global Chat\",\n              cid: \"hello\"\n            });\n          },\n          children: (0, _jsxRuntime.jsx)(_Text.default, {\n            children: \"Global Chat\"\n          })\n        }), (0, _jsxRuntime.jsx)(_FlatList.default, {\n          keyExtractor: function keyExtractor(item) {\n            return item.cid;\n          },\n          data: contacts,\n          renderItem: function renderItem(_ref2) {\n            var item = _ref2.item;\n            return (0, _jsxRuntime.jsx)(_View.default, {\n              children: (0, _jsxRuntime.jsx)(_TouchableOpacity.default, {\n                style: styles.item,\n                onPress: function onPress() {\n                  return navigation.navigate('Chat', {\n                    userName: item.username,\n                    cid: item.cid\n                  });\n                },\n                children: (0, _jsxRuntime.jsx)(_Text.default, {\n                  children: item.username\n                })\n              })\n            });\n          }\n        })]\n      })\n    })]\n  });\n}\n;\nvar styles = _StyleSheet.default.create({\n  header: {\n    flex: 2,\n    width: \"100vw\",\n    display: \"flex\",\n    flexDirection: \"row\",\n    justifyContent: \"center\"\n  },\n  bigText: {\n    fontSize: 100,\n    fontFamily: \"Futara\",\n    fontWeight: \"bold\"\n  },\n  smallBigText: {\n    fontSize: 40,\n    fontFamily: \"Futara\"\n  },\n  headerLogo: {\n    width: 40,\n    height: 40,\n    resizeMode: \"contain\"\n  },\n  bottom: {\n    flex: 8,\n    flexDirection: \"row\",\n    width: \"100vw\",\n    height: \"80vh\",\n    borderRadius: 9\n  },\n  contactList: {\n    flex: 1,\n    backgroundColor: \"white\"\n  },\n  homePart: {\n    flex: 3,\n    backgroundColor: \"white\"\n  },\n  container: {\n    flex: 1,\n    alignItems: 'center',\n    justifyContent: 'center',\n    backgroundColor: \"white\"\n  },\n  title: {\n    fontSize: 36,\n    fontWeight: 'bold',\n    color: \"orange\"\n  },\n  input: {\n    backgroundColor: \"red\",\n    height: 58,\n    marginBottom: 20,\n    fontSize: 16,\n    borderRadius: 10,\n    padding: 12\n  },\n  form: {\n    flex: 1,\n    justifyContent: 'center',\n    marginHorizontal: 30\n  },\n  card: {\n    backgroundColor: \"blue\",\n    height: 58,\n    borderRadius: 10,\n    justifyContent: 'center',\n    alignItems: 'center',\n    marginTop: 40\n  },\n  buttonText: {\n    fontWeight: \"bold\",\n    color: \"black\",\n    fontSize: 18\n  },\n  button: {\n    backgroundColor: \"blue\",\n    height: 58,\n    borderRadius: 10,\n    justifyContent: 'center',\n    alignItems: 'center',\n    marginTop: 40\n  },\n  item: {\n    display: \"flex\",\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    borderRadius: 15,\n    width: 90 * vw,\n    height: 10 * vh,\n    marginHorizontal: 5 * vw\n  }\n});","map":{"version":3,"names":["_react","_interopRequireWildcard","require","_StyleSheet","_interopRequireDefault","_Text","_View","_Image","_TouchableOpacity","_FlatList","_firebase","_firestore","_Dimensions","_Verification","_jsxRuntime","_jsxFileName","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","prototype","hasOwnProperty","call","i","set","vh","Dimensions","height","vw","width","ContactClass","_createClass2","cid","username","_classCallCheck2","addPerson","_auth$currentUser","newConvo","addDoc","collection","database","uids","auth","currentUser","uid","groupName","console","log","id","Contact","_ref","_this","navigation","_useState","useState","_useState2","_slicedToArray2","contacts","setContacts","_useState3","_useState4","cids","setCids","useEffect","_auth$currentUser2","unsubscribe","onSnapshot","doc","includeMetadataChanges","data","_auth$currentUser3","chatRef","q","query","where","querySnapshot","forEach","tempContact","prevContacts","concat","_toConsumableArray2","jsxs","style","styles","container","flexDirection","children","jsx","header","display","alignItems","justifyContent","headerLogo","source","onPress","navigate","bottom","contactList","item","itemTextBox","itemText","backgroundColor","keyExtractor","renderItem","_ref2","userName","StyleSheet","create","flex","bigText","fontSize","fontFamily","fontWeight","smallBigText","resizeMode","borderRadius","homePart","title","color","input","marginBottom","padding","form","marginHorizontal","card","marginTop","buttonText","button"],"sources":["/home/joshua/sana-app/sana/screens/Contacts.js"],"sourcesContent":["import React, {useState, useEffect} from \"react\";\nimport {StyleSheet, Text, View, Image, TouchableOpacity, FlatList} from \"react-native\";\nimport {auth, database} from '../config/firebase';\nimport {collection, doc, query, onSnapshot, addDoc, where} from 'firebase/firestore';\nimport { Dimensions } from 'react-native'\nimport Verification from \"./Verification.js\"\n\nconst vh = Dimensions.get('window').height / 100;\nconst vw = Dimensions.get('window').width / 100;\n\nclass ContactClass {\n    constructor (cid, username) {\n        this.cid = cid;\n        this.username = username;\n    }\n}\n\nconst addPerson = () => {\n    const newConvo = addDoc(collection(database, \"chat\"), {\n        uids:[auth?.currentUser?.uid, \"HltL8GyfH7enbscAfsqtYyUDQ1A2\"],\n        groupName: \"test\", \n    })\n    console.log(\"e  \" + newConvo.id);\n}\n\nexport default function Contact({navigation}) {\n\n    const [contacts, setContacts] = useState([]);\n    const [cids, setCids] = useState([]);\n\n  //useEffect(() => {\n  //  if (!auth?.currentUser?.emailVerified) {\n  //    navigation.navigate(\"Verification\")\n  //  }\n  //});\n  \n  useEffect(() => {\n    const unsubscribe = onSnapshot(doc(database, \"users\", auth?.currentUser?.uid), { includeMetadataChanges: true }, (doc) => {\n        setCids(doc.data.cids);\n    })\n    return () => unsubscribe();\n  }, []);\n  \n  useEffect(() => {\n    const chatRef = collection(database, \"chat\")\n    const q = query(chatRef, where(\"uids\", \"array-contains\", auth?.currentUser?.uid));\n \n      const unsubscribe = onSnapshot(q, \n    { includeMetadataChanges: true },\n    (querySnapshot) => {\n    //console.log(querySnapshot.docs);\n    setContacts([]);\n    querySnapshot.forEach((doc) => {\n        const tempContact = new ContactClass(doc.id, doc.data().groupName);\n        //const tempContacts = [...contacts, tempContact];\n        setContacts(prevContacts => ([...prevContacts, tempContact]));\n      })\n    })\n    return () => unsubscribe();\n  }, []);\n\n  return (\n        <View style={[styles.container, {flexDirection:\"column\"}]}>\n\n            <View style={styles.header}>\n                <View style={{flexDirection:\"row\", display: \"flex\", alignItems: \"center\", width: \"100vw\", justifyContent: \"space-evenly\"}}>\n                    \n                    \n                    <Image style={styles.headerLogo} source={require('../images/sana-logo-2.png')}/>\n                    \n                    <TouchableOpacity onPress={() => navigation.navigate('Settings')}>\n                        <Image style={styles.headerLogo} source={require('../images/settings.png')}/>\n                    </TouchableOpacity>\n                    \n                </View>\n            </View>\n\n            <View style={styles.bottom}>\n                <View style={styles.contactList}>\n                    <TouchableOpacity style={styles.item} onPress={() => addPerson()}>\n                      <View style={styles.itemTextBox}>\n                      <Text style={styles.itemText} >{\"Add New Friend\"}</Text>\n                      </View>\n                    </TouchableOpacity>\n                    \n                    <TouchableOpacity style={[styles.item, {backgroundColor: \"rgba(0,0,0,0.2)\"}]} onPress={() => navigation.navigate('Chat', {username: \"Global Chat\", cid: \"hello\"})}>\n                        <Text>{\"Global Chat\"}</Text>\n                    </TouchableOpacity>\n                \n                    <FlatList\n                      keyExtractor={(item)=>item.cid}\n                      data={contacts}\n                      renderItem={({item}) => (\n                        <View>\n                            <TouchableOpacity style={styles.item} onPress={() => navigation.navigate('Chat', {userName: item.username, cid: item.cid})}>\n                                <Text>{item.username}</Text>\n                            </TouchableOpacity>\n                        </View>\n                      )}\n                    />\n               \n                </View>\n            </View>\n      </View>\n    );\n};\n\n\nconst styles = StyleSheet.create({\n\n    header: {\n        flex:2,\n        width: \"100vw\",\n        display: \"flex\",\n        flexDirection: \"row\",\n        justifyContent: \"center\",\n        \n    },\n    bigText:{\n        fontSize: 100,\n        fontFamily: \"Futara\",\n        fontWeight: \"bold\",\n    },\n    smallBigText:{\n        fontSize: 40,\n        fontFamily: \"Futara\",\n    },\n    headerLogo: {\n      width: 40,\n      height: 40,\n      resizeMode: \"contain\",\n    },\n    bottom: {\n        flex: 8,\n        flexDirection: \"row\",\n        width: \"100vw\",\n        height: \"80vh\",\n        borderRadius:9,\n    },\n    contactList: {\n      flex:1,\n      backgroundColor: \"white\",\n    },\n    homePart: {\n      flex:3,\n      backgroundColor: \"white\",\n    },\n    container: {\n        flex:1,\n        alignItems: 'center', \n        justifyContent: 'center',\n        backgroundColor: \"white\"\n    },\n    title: {\n        fontSize:36,\n        fontWeight: 'bold',\n        color: \"orange\",\n    },\n    input: {\n        backgroundColor: \"red\",\n        height: 58,\n        marginBottom: 20,\n        fontSize: 16,\n        borderRadius: 10,\n        padding: 12,\n    },\n    form: {\n        flex:1,\n        justifyContent: 'center',\n        marginHorizontal: 30,\n    },\n    card: {\n        backgroundColor: \"blue\",\n        height: 58,\n        borderRadius: 10,\n        justifyContent: 'center',\n        alignItems: 'center',\n        marginTop: 40,\n    },\n    buttonText: {\n        fontWeight: \"bold\",\n        color: \"black\",\n        fontSize: 18,\n    },\n    button: {\n        backgroundColor: \"blue\",\n        height: 58,\n        borderRadius: 10,\n        justifyContent: 'center',\n        alignItems: 'center',\n        marginTop: 40,\n    },\n  item: {\n    display: \"flex\",\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    borderRadius: 15,\n    width: 90 * vw,\n    height: 10 * vh,\n    marginHorizontal: 5 * vw,\n  },\n});\n/*\n\n        <View style={styles.header}>\n          <View style={{flexDirection:\"row\"}}>\n            <View style={{flex:0.5}}/>\n            <Image style={styles.headerLogo} source={require('../images/sana-logo-2.png')}/>\n            <View style={{flex:6}}/>\n            <TouchableOpacity onPress={() => navigation.navigate('Settings')}>\n            <Image style={styles.headerLogo} source={require('../images/settings.png')}/>\n            </TouchableOpacity>\n            <View style={{flex:0.5}}/>\n            <TouchableOpacity onPress={() => auth.signOut()}>\n            <Image style={styles.headerLogo} source={require('../images/default.svg') }/>\n            </TouchableOpacity>\n          </View>\n        </View>\n            <TouchableOpacity style={styles.button} onPress={() => navigation.navigate('Chat', {userName: \"Global Chat\", cid: \"OgrB6M9OcEkMLLoyqbQ5\"})}>\n                <Text>{\"Global Chat\"}</Text>\n            </TouchableOpacity>\n            </View>\n            <View style={styles.homePart}>\n            <Text style={styles.bigText}> Welcome! </Text>\n            <Text style={styles.smallBigText}> Select a chat or icon to get started. </Text>\n            </View>\n            */\n/*\n\n                    <FlatList \n          data={contacts}\n          keyExtractor={item=>item.cid}\n          renderItem={({item}) => (\n            <TouchableOpacity style={styles.button} onPress={() => navigation.navigate('Chat', {userName: item.username, cid: item.cid})}>\n                <Text>{item.username}</Text>\n            </TouchableOpacity>\n          )}\n          */\n /*\n    var [contacts, setContacts] = useState([]);\n  var [contact, setContact] = useState([]);\n  var [usernames, setUsernames] = useState([]);\n  const \n  const user = auth.currentUser.uid;\n  const docRef = doc(database, \"users\", user);\n  getDoc(docRef).then(docSnap => {\n    var data;\n  if (docSnap.exists()) {\n    data = docSnap.data();\n  }\n  var cids = data != null ? data.cids : [];\n      for (let cid of cids) {\n        const chatRef = doc(database, \"chat\", cid);\n        getDoc(chatRef).then(chatSnap => {\n          var uids;\n        if (chatSnap.exists()) {\n            const chatData = chatSnap.data();\n            uids = chatData.uids;\n            var index = uids.indexOf(user);\n            if (index !== -1) {\n              uids.splice(index, 1);\n            }\n            //contacts.push(tempContact);\n        }\n        for  (let uid of uids){\n          const userRef = doc(database, \"users\", uid)\n          getDoc(userRef).then(userSnap => {\n            var username;\n            if(userSnap.exists()) {\n              const userData = userSnap.data();\n              username = userData.fName + \" \" + userData.lName\n            }\n            setUsernames(username);\n            //console.log(usernames)\n          })\n        }\n        //var userNames = usernames.toString();\n        const tempContact = new ContactClass(cid, \"Neeraj Gogate\");\n        setContact(tempContact);\n        setContacts(contact);\n      })\n      }\n    }\n  )\n  */\n\n\n  /*\n\n        const unsub = onSnapshot(cidRef, \n    { includeMetadataChanges: true },\n    (chatDoc) => {\n          const uids = chatDoc.data().uids;\n          for (const uid of uids) {\n            console.log(uid);\n          }\n        })\n        unsub();\n        */\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}